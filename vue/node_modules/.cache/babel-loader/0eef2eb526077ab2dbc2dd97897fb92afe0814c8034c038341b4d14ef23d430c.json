{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createBlock as _createBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2ccc6d44\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"form-list flex-grow-1 d-flex\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"d-flex flex-column flex-grow-1\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex flex-row title-box\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"list-title flex-grow-1 text-start\"\n}, \"Danh sách kì thi\")], -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"d-flex flex-row toolbar-box justify-content-between\"\n};\nconst _hoisted_5 = {\n  class: \"left-toolbar d-flex flex-row\"\n};\nconst _hoisted_6 = {\n  class: \"m-search_form flex-row d-flex align-items-center d-flex\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon24 icon search-right search\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"right-toolbar d-flex flex-row\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon24 icon-add-white\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"fw-semibold\"\n}, \"Thêm kì thi\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"box list-content flex-grow-1 flex-row\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Không có dữ liệu \", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1\n};\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = {\n  key: 1\n};\nconst _hoisted_17 = {\n  key: 0\n};\nconst _hoisted_18 = {\n  key: 1\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"row-actions flex-row\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"v-popover popover\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"trigger\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon24 edit\"\n})])], -1 /* HOISTED */));\nconst _hoisted_22 = [_hoisted_21];\nconst _hoisted_23 = [\"onClick\"];\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"v-popover popover\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"icon24 delete\"\n})], -1 /* HOISTED */));\nconst _hoisted_25 = [_hoisted_24];\nconst _hoisted_26 = {\n  key: 1\n};\nconst _hoisted_27 = {\n  class: \"w-full flex flex-column\",\n  style: {\n    \"line-height\": \"1.5\"\n  }\n};\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"\"\n}, \"Không\", -1 /* HOISTED */));\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"\"\n}, \"Xóa kì thi\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_Skeleton = _resolveComponent(\"Skeleton\");\n  const _component_Column = _resolveComponent(\"Column\");\n  const _component_DataTable = _resolveComponent(\"DataTable\");\n  const _component_ExamManagerPopup = _resolveComponent(\"ExamManagerPopup\");\n  const _component_TheLoadingProgress = _resolveComponent(\"TheLoadingProgress\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [!$data.examShiftDialogVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_InputText, {\n    type: \"search\",\n    modelValue: $data.search,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    class: \"ms-input_search w-100\",\n    placeholder: \"Tìm kiếm\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _hoisted_7])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_Button, {\n    onClick: _cache[1] || (_cache[1] = $event => ($data.examShiftDialogVisible = !$data.examShiftDialogVisible, $data.modeModal = _ctx.FormMode.INSERT)),\n    class: \"ms-btn primary d-flex justify-content-center flex-grow-1 ms-btn_search ps-3 pe-3 gap-2\"\n  }, {\n    default: _withCtx(() => [_hoisted_9, _hoisted_10]),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_DataTable, {\n    paginator: \"\",\n    rows: 10,\n    rowsPerPageOptions: [5, 10, 20, 50],\n    class: _normalizeClass([\"flex1 flex-column\", {\n      'loading': $data.isLoading\n    }]),\n    loading: $data.isLoading,\n    value: $data.isLoading ? Array.from({\n      length: 8\n    }, () => ({\n      ...$data.objectLoading\n    })) : $data.dataExamManager,\n    currentPageReportTemplate: \"{first} to {last} of {totalRecords}\",\n    paginatorTemplate: \"FirstPageLink PrevPageLink flex1 CurrentPageReport NextPageLink LastPageLink RowsPerPageDropdown\",\n    onRowDblclick: _cache[2] || (_cache[2] = $event => $options.onRowSelect($event.data)),\n    tableStyle: \"min-width: 100%\",\n    rowHover: \"\"\n  }, {\n    paginatorstart: _withCtx(() => [_createVNode(_component_Button, {\n      type: \"button\",\n      icon: \"pi pi-refresh\",\n      text: \"\"\n    })]),\n    paginatorend: _withCtx(() => [_createTextVNode(\" bản ghi/trang \")]),\n    empty: _withCtx(() => [_hoisted_12]),\n    default: _withCtx(() => [_createVNode(_component_Column, {\n      header: \"STT\",\n      style: {\n        \"width\": \"100px\"\n      },\n      class: \"text-center\"\n    }, {\n      body: _withCtx(slotProps => [!$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString(slotProps.index + 1), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createVNode(_component_Skeleton, {\n        height: \"18px\",\n        class: \"mb-2\"\n      })]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Column, {\n      field: \"exam_name\",\n      style: {\n        \"width\": \"30vw\"\n      },\n      header: \"Tên kì thi\"\n    }, {\n      body: _withCtx(({\n        data,\n        field,\n        slotProps\n      }) => [!$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _toDisplayString(data[field]), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createVNode(_component_Skeleton, {\n        height: \"18px\",\n        class: \"mb-2\"\n      })]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Column, {\n      field: \"exam_code\",\n      dataKey: \"id\",\n      header: \"Mã kì thi\"\n    }, {\n      body: _withCtx(({\n        data,\n        field,\n        slotProps\n      }) => [!$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _toDisplayString(data[field]), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createVNode(_component_Skeleton, {\n        height: \"18px\",\n        class: \"mb-2\"\n      })]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Column, {\n      alignFrozen: \"right\",\n      style: {\n        \"width\": \"100px\",\n        \"text-align\": \"center\"\n      },\n      frozen: \"\",\n      header: \"Thao tác\"\n    }, {\n      body: _withCtx(slotProps => [!$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"div\", {\n        class: \"item\",\n        onClick: $event => $options.onRowSelect(slotProps.data)\n      }, [..._hoisted_22], 8 /* PROPS */, _hoisted_20), _createElementVNode(\"div\", {\n        class: \"item\",\n        onClick: $event => $options.deleteRowSelect(slotProps.data)\n      }, [..._hoisted_25], 8 /* PROPS */, _hoisted_23)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createVNode(_component_Skeleton, {\n        height: \"18px\",\n        class: \"mb-2\"\n      })]))]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\", \"loading\", \"value\"])])])) : _createCommentVNode(\"v-if\", true), $data.examShiftDialogVisible ? (_openBlock(), _createBlock(_component_ExamManagerPopup, {\n    key: 1,\n    onShowExamManager: $options.showExamManager,\n    onLoadExamManager: $options.loadExamManager,\n    onShowToast: $options.showToast,\n    modeModal: $data.modeModal,\n    selectedData: $data.selectedData\n  }, null, 8 /* PROPS */, [\"onShowExamManager\", \"onLoadExamManager\", \"onShowToast\", \"modeModal\", \"selectedData\"])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_Dialog, {\n    visible: $data.isPopupDelete,\n    \"onUpdate:visible\": _cache[4] || (_cache[4] = $event => $data.isPopupDelete = $event),\n    modal: \"\",\n    closeOnEscape: \"\",\n    style: {\n      width: '25vw'\n    },\n    header: \"Xóa kì thi\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      class: \"ms-btn secondary d-flex justify-content-center ms-btn_search ps-3 pe-3 gap-2\",\n      onClick: _cache[3] || (_cache[3] = $event => $data.isPopupDelete = false)\n    }, {\n      default: _withCtx(() => [_hoisted_28]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Button, {\n      onClick: $options.handlerDelete,\n      class: \"ms-btn danger d-flex justify-content-center ms-btn_search ps-3 pe-3 gap-2\"\n    }, {\n      default: _withCtx(() => [_hoisted_29]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])]),\n    default: _withCtx(() => [$data.isLoadingDelete ? (_openBlock(), _createBlock(_component_TheLoadingProgress, {\n      key: 0\n    })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"span\", null, [_createTextVNode(\" Kì thi có rất nhiều dữ liệu liên quan, bạn có chắc chắn muốn xóa kì thi \"), _createElementVNode(\"b\", null, _toDisplayString($data.selectedData.exam_name), 1 /* TEXT */), _createTextVNode(\" không?\")])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementVNode","_hoisted_21","_hoisted_24","style","_createElementBlock","_Fragment","_hoisted_1","$data","examShiftDialogVisible","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_InputText","type","modelValue","search","_cache","$event","placeholder","_hoisted_7","_hoisted_8","_component_Button","onClick","modeModal","_ctx","FormMode","INSERT","default","_withCtx","_hoisted_9","_hoisted_10","_","_hoisted_11","_component_DataTable","paginator","rows","rowsPerPageOptions","_normalizeClass","isLoading","loading","value","Array","from","length","objectLoading","dataExamManager","currentPageReportTemplate","paginatorTemplate","onRowDblclick","$options","onRowSelect","data","tableStyle","rowHover","paginatorstart","icon","text","paginatorend","_createTextVNode","empty","_hoisted_12","_component_Column","header","body","slotProps","_hoisted_13","_toDisplayString","index","_hoisted_14","_component_Skeleton","height","field","_hoisted_15","_hoisted_16","dataKey","_hoisted_17","_hoisted_18","alignFrozen","frozen","_hoisted_19","_hoisted_22","_hoisted_20","deleteRowSelect","_hoisted_25","_hoisted_23","_hoisted_26","_createCommentVNode","_createBlock","_component_ExamManagerPopup","onShowExamManager","showExamManager","onLoadExamManager","loadExamManager","onShowToast","showToast","selectedData","_component_Dialog","visible","isPopupDelete","modal","closeOnEscape","width","footer","_hoisted_28","handlerDelete","_hoisted_29","isLoadingDelete","_component_TheLoadingProgress","_hoisted_27","exam_name"],"sources":["E:\\khoaluan\\w-score\\vue\\src\\views\\user\\ExamManager.vue"],"sourcesContent":["<template>\r\n    <div class=\"form-list flex-grow-1 d-flex\">\r\n        <div class=\"d-flex flex-column flex-grow-1\" v-if=\"!examShiftDialogVisible\">\r\n            <div class=\"d-flex flex-row title-box\">\r\n                <div class=\"list-title flex-grow-1 text-start\">Danh sách kì thi</div>\r\n            </div>\r\n            <div class=\"d-flex flex-row toolbar-box justify-content-between\">\r\n                <div class=\"left-toolbar d-flex flex-row\">\r\n                    <div class=\"m-search_form flex-row d-flex align-items-center d-flex\">\r\n                        <InputText type=\"search\" v-model=\"search\" class=\"ms-input_search w-100\" placeholder=\"Tìm kiếm\"/>\r\n                        <div class=\"icon24 icon search-right search\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-toolbar d-flex flex-row\">\r\n                    <Button\r\n                        @click=\"examShiftDialogVisible = !examShiftDialogVisible, modeModal = FormMode.INSERT\"\r\n                        class=\"ms-btn primary d-flex justify-content-center flex-grow-1 ms-btn_search ps-3 pe-3 gap-2\">\r\n                        <div class=\"icon24 icon-add-white\"></div>\r\n                        <div class=\"fw-semibold\">Thêm kì thi</div>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            <div class=\"box list-content flex-grow-1 flex-row\">\r\n                <DataTable paginator :rows=\"10\" :rowsPerPageOptions=\"[5, 10, 20, 50]\" class=\"flex1 flex-column\"\r\n                           :class=\"{ 'loading': isLoading }\" :loading=\"isLoading\"\r\n                           :value=\"isLoading ? Array.from({ length: 8 }, () => ({ ...objectLoading })) : dataExamManager\"\r\n                           currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\r\n                           paginatorTemplate=\"FirstPageLink PrevPageLink flex1 CurrentPageReport NextPageLink LastPageLink RowsPerPageDropdown\"\r\n                           @rowDblclick=\"onRowSelect($event.data)\" tableStyle=\"min-width: 100%\" rowHover>\r\n                    <template #paginatorstart>\r\n                        <Button type=\"button\" icon=\"pi pi-refresh\" text/>\r\n                    </template>\r\n                    <template #paginatorend>\r\n                        bản ghi/trang\r\n                    </template>\r\n                    <template #empty>\r\n                        <div>\r\n                            Không có dữ liệu\r\n                        </div>\r\n                    </template>\r\n                    <Column header=\"STT\" style=\"width: 100px;\" class=\"text-center\">\r\n                        <template #body=\"slotProps\">\r\n                            <div v-if=\"!isLoading\"> {{ slotProps.index + 1 }}</div>\r\n                            <div v-else>\r\n                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"exam_name\" style=\"width: 30vw;\" header=\"Tên kì thi\">\r\n                        <template #body=\"{ data, field, slotProps }\">\r\n                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                            <div v-else>\r\n                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"exam_code\" dataKey=\"id\" header=\"Mã kì thi\">\r\n                        <template #body=\"{ data, field, slotProps }\">\r\n                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                            <div v-else>\r\n                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n                    <Column alignFrozen=\"right\" style=\"width: 100px; text-align: center;\" frozen header=\"Thao tác\">\r\n                        <template #body=\"slotProps\">\r\n                            <div class=\"row-actions flex-row\" v-if=\"!isLoading\">\r\n                                <div class=\"item\" @click=\"onRowSelect(slotProps.data)\">\r\n                                    <div class=\"v-popover popover\">\r\n                                        <div class=\"trigger\">\r\n                                            <div class=\"icon24 edit\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"item\" @click=\"deleteRowSelect(slotProps.data)\">\r\n                                    <div class=\"v-popover popover\">\r\n                                        <div class=\"icon24 delete\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div v-else>\r\n                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        <ExamManagerPopup v-if=\"examShiftDialogVisible\" @showExamManager=\"showExamManager\"\r\n                          @loadExamManager=\"loadExamManager\" @showToast=\"showToast\" :modeModal=\"modeModal\"\r\n                          :selectedData=\"selectedData\"/>\r\n    </div>\r\n\r\n    <Dialog v-model:visible=\"isPopupDelete\" modal closeOnEscape :style=\"{ width: '25vw' }\" header=\"Xóa kì thi\">\r\n        <TheLoadingProgress v-if=\"isLoadingDelete\"/>\r\n        <div class=\"w-full flex flex-column\" style=\"line-height: 1.5;\">\r\n                <span> Kì thi có rất nhiều dữ liệu liên quan, bạn có chắc chắn muốn xóa kì thi <b>{{\r\n                        selectedData.exam_name\r\n                    }}</b> không?</span>\r\n        </div>\r\n        <template #footer>\r\n            <Button\r\n                class=\"ms-btn secondary d-flex justify-content-center ms-btn_search ps-3 pe-3 gap-2\" @click=\"isPopupDelete = false\">\r\n                <div class=\"\">Không</div>\r\n            </Button>\r\n            <Button @click=\"handlerDelete\"\r\n                    class=\"ms-btn danger d-flex justify-content-center ms-btn_search ps-3 pe-3 gap-2\">\r\n                <div class=\"\">Xóa kì thi</div>\r\n            </Button>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script>\r\nimport {generateCode, convertTimezoneToDatetime} from '@/common/functions';\r\nimport ExamManagerPopup from './components/ExamManagerPopup.vue';\r\nimport Button from 'primevue/button';\r\nimport Dialog from 'primevue/dialog';\r\nimport DataTable from 'primevue/datatable';\r\nimport Column from 'primevue/column';\r\nimport Dropdown from 'primevue/dropdown';\r\nimport Skeleton from 'primevue/skeleton';\r\nimport InputText from 'primevue/inputtext';\r\nimport TheLoadingProgress from '@/components/LoadingProgress.vue';\r\nimport Calendar from 'primevue/calendar';\r\nimport {getExamManager, deleteExamManager, insertExamShift} from '/api/exam-manager';\r\nimport {MESSAGE} from \"@/common/enums\";\r\n\r\nexport default {\r\n    components: {\r\n        DataTable,\r\n        Column,\r\n        Dialog,\r\n        Button,\r\n        Calendar,\r\n        InputText,\r\n        Dropdown,\r\n        Skeleton,\r\n        ExamManagerPopup,\r\n        TheLoadingProgress\r\n    },\r\n    data() {\r\n        return {\r\n            dialogVisible: true,\r\n            examShiftDialogVisible: false,\r\n\r\n            columns: [\r\n                {field: 'exam_shift_code', header: 'Mã ca thi'},\r\n                {field: 'exam_shift_name', header: 'Tên ca thi'},\r\n                {field: 'DateTimeStart', header: 'Ngày bắt đầu'},\r\n                {field: 'DateTimeEnd', header: 'Ngày kết thúc'},\r\n                {field: 'Department', header: 'Phòng thi'},\r\n            ],\r\n            search: null,\r\n            //ca thi\r\n            listExamShift: [],\r\n            objectLoading: {},\r\n\r\n            isPopupDelete: false,\r\n            isLoadingDelete: false,\r\n\r\n            examshift: {\r\n                ExamShiftId: null,\r\n                exam_shift_code: null,\r\n                exam_shift_name: null,\r\n                DateTimeStart: null,\r\n                DateTimeEnd: null,\r\n                Department: null\r\n            },\r\n\r\n            modeModal: this.FormMode.Insert,\r\n\r\n            //tên các ca thi\r\n            exam_shift_names: null,\r\n\r\n            isLoading: false,\r\n            selectedData: {},\r\n\r\n            dataExamManager: [],\r\n\r\n            modeGenerate: true, //cho phép sinh mã theo tên\r\n\r\n            modeGenerateExamShift: true, //sinh mã ca thi\r\n            exam: {\r\n                ExamId: null,\r\n                ExamCode: null,\r\n                ExamName: null,\r\n                start_date: null,\r\n                end_date: null,\r\n                Note: null,\r\n            },\r\n\r\n            invalidData: [],\r\n\r\n            invalidExamShift: [],\r\n\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        /**\r\n         * Ẩn / hiển form thêm kì thi\r\n         */\r\n        showExamManager() {\r\n            this.examShiftDialogVisible = !this.examShiftDialogVisible;\r\n        },\r\n\r\n        /**\r\n         * Xử lý hàm sinh mã theo tên\r\n         */\r\n        handlerGenerateCode(name) {\r\n            if (name === 'exam' && this.modeGenerate) this.exam.ExamCode = generateCode(this.exam.ExamName);\r\n            if (name === 'examShift' && this.modeGenerateExamShift) {\r\n                this.examshift.exam_shift_code = generateCode(this.examshift.exam_shift_name);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Xóa kì thi\r\n         * @param {*} data\r\n         */\r\n        deleteRowSelect(data) {\r\n            this.selectedData = {...data};\r\n            this.isPopupDelete = true;\r\n\r\n            console.log(data);\r\n        },\r\n\r\n        /**\r\n         * Call api xóa kì thi\r\n         */\r\n        async handlerDelete() {\r\n            this.isLoadingDelete = true;\r\n            await deleteExamManager(this.selectedData.id).then(res => {\r\n                this.$store.dispatch('handleSuccess', MESSAGE.HTTP_DELETE_OK);\r\n                this.loadExamManager();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            }).finally(() => {\r\n                setTimeout(() => {\r\n                    this.isLoadingDelete = false;\r\n                    this.isPopupDelete = false;\r\n                }, 750);\r\n            })\r\n        },\r\n\r\n        /**\r\n         * Hiển thị toast message\r\n         * @param {*} message\r\n         */\r\n        showToast(message, severity = 'success') {\r\n            this.$toast.add({severity: severity, summary: 'Thông báo', detail: message, life: 3000});\r\n        },\r\n\r\n        /**\r\n         * Validate mã phòng thi\r\n         * Ko cho phép nhập các kí tự đặc biệt\r\n         * @param {*} event\r\n         */\r\n        handlerInputDepartmentCode(event) {\r\n            let pattern = /[\\W_]/g;\r\n            let res = event.key.match(pattern);\r\n            if (res) {\r\n                event.preventDefault();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * selected item\r\n         * @param {*} data\r\n         */\r\n        onRowSelect(data) {\r\n            this.modeModal = this.FormMode.UPDATE;\r\n            this.examShiftDialogVisible = !this.examShiftDialogVisible;\r\n            this.selectedData = {...data};\r\n        },\r\n\r\n        /**\r\n         * Lấy ra các phần tử không trùng lặp trong mảng\r\n         * @param {*} data Mảng\r\n         * @param {*} propName Phần tử cần lấy\r\n         */\r\n        getUniqueItems(data, propName) {\r\n            return data.reduce((acc, curr) => {\r\n                if (!acc.some(item => item[propName] === curr[propName])) {\r\n                    acc.push(curr);\r\n                }\r\n                return acc;\r\n            }, []);\r\n        },\r\n\r\n        /**\r\n         * Lấy danh sách kì thi\r\n         */\r\n        async loadExamManager() {\r\n            try {\r\n                this.isLoading = true;\r\n                await getExamManager().then(res => {\r\n                    if (res[0]) {\r\n                        var data = JSON.parse(res[0].ExamShift);\r\n                        const exam_shift_names = data.reduce((acc, curr) => {\r\n                            if (!acc.includes(curr.exam_shift_name) && !acc.includes(curr.exam_shift_code)) {\r\n                                acc.push(curr.exam_shift_name);\r\n                            }\r\n                            return acc;\r\n                        }, []).join(', ');\r\n                        setTimeout(() => {\r\n                            this.isLoading = false\r\n                        }, 500);\r\n                    }\r\n                    this.dataExamManager = res.data;\r\n                    // console.log(exam_shift_names);\r\n                }).catch(error => {\r\n                    this.showToast(\"Có lỗi xảy ra, vui lòng liên hệ nhà phát triển\", 'error');\r\n                    console.log(error);\r\n                }).finally(() => {\r\n                    setTimeout(() => {\r\n                        this.isLoading = false\r\n                    }, 500);\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Thêm ca thi\r\n         */\r\n        btnAddExamShift() {\r\n            this.examShift.push({\r\n                exam_shift_code: null,\r\n                exam_shift_name: null,\r\n                start_date: null,\r\n                end_date: null,\r\n                department: null\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Validate ngày kết thúc kì thi\r\n         */\r\n        handlerend_date() {\r\n            this.invalidData = [];\r\n            if (this.exam.end_date.getTime() - this.exam.start_date.getTime() < 2 * 60 * 60 * 1000) {\r\n                this.invalidData['end_date'] = 'Thời gian tối tiểu là 2h';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Xóa ca thi\r\n         * @param {*} index\r\n         */\r\n        btnRemoveExamShift(index) {\r\n            this.examShift.splice(index, 1)\r\n            if (this.examShift.length < 1) this.btnAddExamShift();\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.loadExamManager();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.p-panel.p-component.p-0 .p-panel-content {\r\n    padding: 0 !important;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}