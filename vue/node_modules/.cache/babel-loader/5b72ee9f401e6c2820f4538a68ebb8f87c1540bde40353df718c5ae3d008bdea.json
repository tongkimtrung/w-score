{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport InputText from 'primevue/inputtext';\nimport Button from 'primevue/button';\nimport Skeleton from 'primevue/skeleton';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Dropdown from 'primevue/dropdown';\nimport Panel from 'primevue/panel';\nimport FileUpload from 'primevue/fileupload';\nimport Stepper from 'primevue/stepper';\nimport StepperPanel from 'primevue/stepperpanel';\nimport Resumable from 'resumablejs';\nimport ProgressBar from 'primevue/progressbar';\nimport { FILE_TYPE } from \"@/common/enums\";\nimport { get, calculate, getDetailExamManager } from '/api/grade-master';\nimport Auth from \"../../../../api/utils/auth\";\nexport default {\n  components: {\n    Button,\n    InputText,\n    Panel,\n    Skeleton,\n    DataTable,\n    Dropdown,\n    ProgressBar,\n    Column,\n    FileUpload,\n    Stepper,\n    StepperPanel\n  },\n  data() {\n    return {\n      valuesFile: [{\n        STT: 1,\n        Type: 'File danh sách thi',\n        Resource: 'Chưa có file danh sách thi. Tải lên để thực hiện chấm',\n        Empty: true,\n        FileSelected: null,\n        ResourcePath: null,\n        FileName: null,\n        FileType: FILE_TYPE.LIST,\n        FileAccept: '.xlsx',\n        MaxFileSize: 30 * 1024 * 1024\n      }, {\n        STT: 2,\n        Type: 'File bài thi',\n        Resource: 'Chưa có file bài thi. Tải lên để thực hiện chấm',\n        Empty: true,\n        FileSelected: null,\n        ResourcePath: null,\n        FileName: null,\n        FileType: FILE_TYPE.EXAM,\n        FileAccept: '.zip',\n        MaxFileSize: 800 * 1024 * 1024\n      }],\n      isNextStepper: false,\n      columnsFile: [{\n        field: 'STT',\n        header: 'STT'\n      }, {\n        field: 'Type',\n        header: 'Loại file'\n      }, {\n        field: 'Resource',\n        header: 'Tên File'\n      }],\n      isCollapsed: false,\n      isLoading: false,\n      data: [],\n      selectedCity: null,\n      examResult: [],\n      cities: [{\n        name: 'New York',\n        code: 'NY'\n      }, {\n        name: 'Rome',\n        code: 'RM'\n      }, {\n        name: 'London',\n        code: 'LDN'\n      }, {\n        name: 'Istanbul',\n        code: 'IST'\n      }, {\n        name: 'Paris',\n        code: 'PRS'\n      }],\n      headerUploadFile: 'Tải file',\n      fileSelectedOnUpload: null,\n      gradingType: false,\n      //loại chấm điểm\n      isShowGradingType: false,\n      gradingTypeVisible: false,\n      deductedPoint: 50,\n      //điểm bị trừ\n      invalidDeductedPoint: null,\n      fileSelected: null,\n      isShowPopupUploadFile: false,\n      File: null,\n      FileSuccess: false,\n      isUpload: false,\n      totalSize: 0,\n      dialogVisible: false,\n      totalSizePercent: 0,\n      activeStep: 0,\n      fileInfoResponse: [],\n      resultDetail: [],\n      visibleExamResultDetail: false,\n      selectedResult: null,\n      objCheckSelectedResult: null,\n      isLoadingComponent: false,\n      modeFile: null,\n      fileXlsxSelected: null,\n      fileZipSelected: null,\n      resumable: null,\n      progress: 0,\n      examManager: [],\n      selectedManager: null,\n      examShift: [],\n      selectedExamShift: null,\n      department: [],\n      selectedDepartment: null\n    };\n  },\n  methods: {\n    onRowSelect(data) {\n      // console.log(data);\n    },\n    async btnEvaluator(flag) {\n      //thực hiện chấm\n      if (flag) {\n        this.gradingTypeVisible = false;\n        this.deductedPoint = 50;\n        this.isLoadingComponent = true;\n        this.isShowGradingType = false;\n        var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\n        data = JSON.parse(data.ExamShift).filter(_item => _item.ExamShiftId == this.selectedExamShift && _item.DepartmentId == this.selectedDepartment && _item.ExamShiftId == this.selectedExamShift);\n        await excuteEvaluator({\n          data: data,\n          gradingType: this.gradingType,\n          deductedPoint: this.deductedPoint\n        }).then(res => {\n          this.loadExamResult();\n        }).catch(error => {\n          console.log(error);\n        }).finally(() => {\n          setTimeout(() => {\n            this.isLoadingComponent = false;\n          }, 300);\n        });\n      }\n    },\n    /**\r\n     * Sự kiện chọn kì thi\r\n     */\n    onChangeExamManager() {\n      this.isLoading = true;\n      this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\n      this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\n      //dữ liệu kì thi\n\n      this.selectedFirst();\n      // this.loadExamResult();\n    },\n    /**\r\n     * Sự kiện chọn ca thi\r\n     */\n    onChangeExamShift() {\n      this.department = this.selectedExamShift.departments;\n      // this.loadExamResult();\n    },\n    /**\r\n     * Sự kiện chọn phòng thi\r\n     */\n    onChangeDepartment() {\n      this.examResult = []; //kết quả thi\n      this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\n      this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\n      var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\n      data = JSON.parse(data.ExamShift);\n      var result = data.find(_item => this.selectedDepartment == _item.DepartmentId && this.selectedExamShift == _item.ExamShiftId);\n      try {\n        if (result.ResourcePathFileList != null) {\n          this.valuesFile[0].FileName = String(result.ResourcePathFileList).substring(3);\n          this.valuesFile[0].Empty = false;\n        }\n        if (result.ResourcePathFileAssignment != null) {\n          this.valuesFile[1].FileName = String(result.ResourcePathFileAssignment).substring(3);\n          this.valuesFile[1].Empty = false;\n        }\n      } catch (error) {\n        console.log(resulgetDetailExamManagert, this.selectedDepartment, this.department, this.selectedExamShift, data);\n      }\n      this.loadExamResult();\n    },\n    /**\r\n     *\r\n     * @param {*} arr\r\n     */\n    selectedFirst() {\n      try {\n        this.examShift = this.selectedManager.exam_shifts;\n        this.selectedExamShift = null;\n        this.selectedDepartment = null;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    /**\r\n     * Cập nhật thông tin file\r\n     */\n    updateFileInformation() {\n      try {\n        this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\n        this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\n        //dữ liệu kì thi\n        var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\n        data = JSON.parse(data.ExamShift);\n        //dữ liệu ca thi\n        var result = data.filter(_item => _item.ExamShiftId == this.selectedExamShift);\n        //Mảng dữ liệu phòng thi\n        this.department = this.getUniqueItems(result, 'DepartmentId');\n        var index = this.department.findIndex(_item => _item.DepartmentId == this.selectedDepartment);\n        if (this.department[index] != null && this.department[index].ResourcePathFileList != null) {\n          this.valuesFile[0].FileName = this.department[index].ResourcePathFileList.substring(3);\n          this.valuesFile[0].Empty = false;\n        }\n        if (this.department[index] != null && this.department[index].ResourcePathFileAssignment != null) {\n          this.valuesFile[1].FileName = this.department[index].ResourcePathFileAssignment.substring(3);\n          this.valuesFile[1].Empty = false;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    /**\r\n     * Sự kiện kéo thả file\r\n     * @param {*} event\r\n     * @param data\r\n     */\n    drop(event, data) {\n      event.preventDefault();\n      this.$refs.file.files = event.dataTransfer.files;\n      this.onChangeFile(event, data); // Trigger the onChange event manually\n      // Clean up\n      event.currentTarget.classList.add('bg-gray-100');\n      event.currentTarget.classList.remove('bg-green-300');\n    },\n    /**\r\n     * Sự kiện kéo file vào\r\n     * @param {*} event\r\n     */\n    dragover(event) {\n      event.preventDefault();\n      // Add some visual fluff to show the user can drop its files\n      if (!event.currentTarget.classList.contains('bg-green-300')) {\n        event.currentTarget.classList.remove('bg-gray-100');\n        event.currentTarget.classList.add('bg-green-300');\n      }\n    },\n    /**\r\n     * Sự kiện kéo file ra\r\n     * @param {*} event\r\n     */\n    dragleave(event) {\n      // Clean up\n      event.currentTarget.classList.add('bg-gray-100');\n      event.currentTarget.classList.remove('bg-green-300');\n    },\n    /**\r\n     * Lấy danh sách đã phân chia đề thi\r\n     */\n    getListExam() {\n      if (this.selectedDepartment == null) {\n        this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\n        return;\n      }\n      if (this.selectedManager == null) {\n        this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\n        return;\n      }\n      if (this.selectedExamShift == null) {\n        this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\n        return;\n      }\n      if (this.valuesFile[0].FileName == null) {\n        this.showToast(\"Chưa tải lên file danh sách thi\", 'error');\n        return;\n      }\n      this.isLoadingComponent = true;\n      //dữ liệu kì thi\n      var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\n      data = JSON.parse(data.ExamShift);\n      //dữ liệu ca thi\n      var result = data.filter(_item => _item.ExamShiftId == this.selectedExamShift);\n      //Mảng dữ liệu phòng thi\n      this.department = this.getUniqueItems(result, 'DepartmentId');\n      var index = this.department.findIndex(_item => _item.DepartmentId == this.selectedDepartment);\n      data = data.filter(_item => _item.ExamShiftId == this.selectedExamShift && _item.DepartmentId == this.selectedDepartment && _item.ExamShiftId == this.selectedExamShift);\n      exportExamList({\n        fileInfo: this.department[index],\n        exam: data\n      }).then(res => {\n        var filename = this.department.find(_item => _item.DepartmentId == this.selectedDepartment).DepartmentName;\n        const url = window.URL.createObjectURL(new Blob([res]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', `Danh sách phân chia đề thi ${filename}.xlsx`);\n        document.body.appendChild(link);\n        link.click();\n      }).catch(error => {}).finally(() => {\n        setTimeout(() => {\n          this.isLoadingComponent = false;\n        }, 750);\n      });\n      console.log(this.department[index]);\n    },\n    /**\r\n     * Thông tin kì thi\r\n     */\n    async loadExamManager() {\n      await getDetailExamManager().then(res => {\n        this.examManager = res.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    /**\r\n     * Xuất kết quả\r\n     */\n    exportExamResult() {\n      if (this.selectedDepartment != null && this.selectedExamShift != null && this.selectedManager != null && this.examResult.length > 0) {\n        this.isLoadingComponent = true;\n        exportExamResult({\n          data: this.examResult\n        }).then(res => {\n          var filename = this.department.find(_item => _item.DepartmentId == this.selectedDepartment).DepartmentName;\n          const url = window.URL.createObjectURL(new Blob([res]));\n          const link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', `Kết quả chấm ${filename}.xlsx`);\n          document.body.appendChild(link);\n          link.click();\n        }).catch(error => {\n          this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\", 'error');\n          console.log(error);\n        }).finally(() => {\n          setTimeout(() => {\n            this.isLoadingComponent = false;\n          }, 750);\n        });\n      }\n    },\n    /**\r\n     * Sự kiện thay đổi file\r\n     */\n    onChangeFile(event, data) {\n      event.preventDefault();\n      // if (this.selectedDepartment == null || this.selectedExamShift == null || this.selectedManager == null) {\n      //     this.showToast(\"Chọn thông tin kì thi để thực hiện tải\", 'error');\n      //     return;\n      // }\n      if (this.$refs.file.files[0]) {\n        // if (this.$r  efs.file.files[0].size > this.fileSelectedOnUpload.MaxFileSize) {\n        //     return;\n        // }\n\n        // if (this.$refs.file.files[0].size > this.fileSelectedOnUpload.MaxFileSize) {\n        //     console.log(1);\n        //     return;\n        // }\n        //xlsx\n        if (data.FileType === FILE_TYPE.LIST) {\n          var validExts = new Array(\".xlsx\", \".xls\");\n          var fileExt = this.$refs.file.files[0].name;\n          fileExt = fileExt.substring(fileExt.lastIndexOf('.'));\n          if (validExts.indexOf(fileExt) < 0) {\n            this.contentDialog = ' File danh sách thi chỉ hỗ trợ định dạng *.xlsx';\n            this.dialogVisible = true;\n            return;\n          }\n        }\n        //zip\n        else {\n          var validExts = new Array(\".zip\");\n          var fileExt = this.$refs.file.files[0].name;\n          fileExt = fileExt.substring(fileExt.lastIndexOf('.'));\n          if (validExts.indexOf(fileExt) < 0) {\n            this.contentDialog = ' File bài thi chỉ hỗ trợ định dạng *.zip';\n            this.dialogVisible = true;\n            return;\n          }\n        }\n        this.FileSuccess = true;\n        this.fileSelected = this.$refs.file.files[0];\n      }\n    },\n    /**\r\n     * Click nút upload\r\n     */\n    uploadEvent() {\n      try {\n        this.progress = 0;\n        this.isLoading = true;\n        //tên kì thi\n        // this.resumable.opts.query.ExamName = this.examManager.find(_item => _item.ExamId == this.selectedManager).ExamName;\n        // cập nhật param\n        this.resumable.opts.query.departmentId = 1;\n        this.resumable.opts.query.examId = 2;\n        this.resumable.opts.query.examShiftId = 3;\n        this.resumable.opts.query.fileType = this.fileSelectedOnUpload.FileType;\n        this.resumable.addFile(this.fileSelected);\n      } catch (error) {}\n    },\n    /**\r\n     * click button chấm thi\r\n     */\n    calculate() {\n      this.examResult = [];\n      calculate(this.fileInfoResponse).then(res => {\n        this.examResult = res.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    /**\r\n     * Lấy kết quả chấm\r\n     */\n    async loadExamResult() {\n      this.isLoading = true;\n      this.examResult = [];\n      if (this.selectedDepartment == null || this.selectedExamShift == null || this.selectedManager == null) {\n        return;\n      }\n      await getExamResult({\n        ExamId: this.selectedManager,\n        DepartmentId: this.selectedDepartment,\n        ExamShiftId: this.selectedExamShift\n      }).then(res => {\n        this.examResult = res;\n      }).catch(error => {\n        this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\");\n        console.log(error);\n      }).finally(() => {\n        setTimeout(() => {\n          this.isLoading = false;\n        }, 750);\n      });\n      var department = this.department.find(_department => _department.DepartmentId == this.selectedDepartment);\n      if (department != null && department.ResourcePathFileList != null) {\n        this.valuesFile[0].FileName = department.ResourcePathFileList.substring(3);\n        this.valuesFile[0].Empty = false;\n      }\n      if (department != null && department.ResourcePathFileAssignment != null) {\n        this.valuesFile[1].FileName = department.ResourcePathFileAssignment.substring(3);\n        this.valuesFile[1].Empty = false;\n      }\n    },\n    /**\r\n     * Khởi tạo Resumable upload file\r\n     */\n    createResumable() {\n      this.resumable = new Resumable({\n        target: 'http://localhost:9000/api/word/upload-file',\n        method: 'POST',\n        query: {},\n        headers: {\n          'Accept': 'application/json',\n          'Content-Disposition': 'form-data; name=\"title\"',\n          'Authorization': 'Bearer ' + Auth.getToken()\n        },\n        testChunks: false,\n        throttleProgressCallbacks: 1,\n        simultaneousUploads: 4\n      });\n      this.resumable.on('fileAdded', this.onFileAdded);\n      this.resumable.on('fileProgress', this.onFileProgress);\n      this.resumable.on('fileSuccess', this.onFileSuccess);\n      this.resumable.on('fileError', this.onFileError);\n    },\n    /**\r\n     * Thêm file\r\n     * @param {*} file\r\n     */\n    onFileAdded(file) {\n      this.progress = 0;\n      this.resumable.upload();\n    },\n    /**\r\n     *\r\n     * @param {*} file\r\n     */\n    onFileProgress(file) {\n      this.progress = Math.floor(file.progress() * 100);\n    },\n    /**\r\n     *\r\n     * @param {*} file\r\n     * @param {*} response\r\n     */\n    async onFileSuccess(file, response) {\n      this.progress = 100;\n      this.isLoading = false;\n      try {\n        console.log(JSON.parse(response));\n        this.fileInfoResponse = JSON.parse(response).data;\n      } catch (error) {\n        console.log(error);\n      }\n      console.log(this.fileInfoResponse);\n      this.activeStep++;\n      this.showToast('Tải file thành công');\n      //cập nhật lại thông tin file trên view\n      this.resumable.removeFile(file);\n      this.fileSelected = null;\n    },\n    onFileError(file, message) {\n      console.log('File error:', file, message);\n    },\n    /**\r\n     * Lấy thông tin chi tiết điểm của sinh viên\r\n     */\n    async loadExamResultDetail() {\n      if (JSON.stringify(this.selectedResult) !== JSON.stringify(this.objCheckSelectedResult)) {\n        this.resultDetail = [];\n        await getExamResultDetail(this.selectedResult.StudentCode).then(res => {\n          this.visibleExamResultDetail = true;\n          this.resultDetail = res;\n          console.log(res);\n        }).catch(error => {\n          this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\");\n          console.log(error);\n        });\n      } else {\n        this.visibleExamResultDetail = true;\n      }\n      this.objCheckSelectedResult = {\n        ...this.selectedResult\n      };\n    },\n    /**\r\n     * Sự kiện trước khi ẩn popup upload file\r\n     */\n    afterHideUploadFile() {\n      if (this.resumable.isUploading()) {\n        this.resumable.cancel();\n        this.showToast(\"File đang được tải lên, bạn có chắc chắn muốn thoát không?\");\n        return;\n      }\n      this.progress = 0;\n      this.fileSelectedOnUpload = null;\n      this.fileSelected = null;\n      this.isShowPopupUploadFile = false;\n      this.fileSelected = null;\n    },\n    /**\r\n     * Format file size\r\n     * @param {*} bytes Dung lượng cần format\r\n     */\n    formatSize(bytes) {\n      if (bytes === 0) return \"0 B\";\n      const k = 1024;\n      const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n    }\n  },\n  async created() {\n    await this.loadExamManager();\n  },\n  mounted() {\n    this.createResumable();\n  }\n};","map":{"version":3,"names":["InputText","Button","Skeleton","DataTable","Column","Dropdown","Panel","FileUpload","Stepper","StepperPanel","Resumable","ProgressBar","FILE_TYPE","get","calculate","getDetailExamManager","Auth","components","data","valuesFile","STT","Type","Resource","Empty","FileSelected","ResourcePath","FileName","FileType","LIST","FileAccept","MaxFileSize","EXAM","isNextStepper","columnsFile","field","header","isCollapsed","isLoading","selectedCity","examResult","cities","name","code","headerUploadFile","fileSelectedOnUpload","gradingType","isShowGradingType","gradingTypeVisible","deductedPoint","invalidDeductedPoint","fileSelected","isShowPopupUploadFile","File","FileSuccess","isUpload","totalSize","dialogVisible","totalSizePercent","activeStep","fileInfoResponse","resultDetail","visibleExamResultDetail","selectedResult","objCheckSelectedResult","isLoadingComponent","modeFile","fileXlsxSelected","fileZipSelected","resumable","progress","examManager","selectedManager","examShift","selectedExamShift","department","selectedDepartment","methods","onRowSelect","btnEvaluator","flag","find","_item","ExamId","JSON","parse","ExamShift","filter","ExamShiftId","DepartmentId","excuteEvaluator","then","res","loadExamResult","catch","error","console","log","finally","setTimeout","onChangeExamManager","selectedFirst","onChangeExamShift","departments","onChangeDepartment","result","ResourcePathFileList","String","substring","ResourcePathFileAssignment","resulgetDetailExamManagert","exam_shifts","updateFileInformation","getUniqueItems","index","findIndex","drop","event","preventDefault","$refs","file","files","dataTransfer","onChangeFile","currentTarget","classList","add","remove","dragover","contains","dragleave","getListExam","showToast","exportExamList","fileInfo","exam","filename","DepartmentName","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","loadExamManager","exportExamResult","length","validExts","Array","fileExt","lastIndexOf","indexOf","contentDialog","uploadEvent","opts","query","departmentId","examId","examShiftId","fileType","addFile","getExamResult","_department","createResumable","target","method","headers","getToken","testChunks","throttleProgressCallbacks","simultaneousUploads","on","onFileAdded","onFileProgress","onFileSuccess","onFileError","upload","Math","floor","response","removeFile","message","loadExamResultDetail","stringify","getExamResultDetail","StudentCode","afterHideUploadFile","isUploading","cancel","formatSize","bytes","k","sizes","i","parseFloat","pow","toFixed","created","mounted"],"sources":["E:\\khoaluan\\w-score\\vue\\src\\views\\admin\\components\\GradeMaster.vue"],"sourcesContent":["<template>\r\n    <div class=\"form-list flex-grow-1 d-flex\">\r\n        <div class=\"d-flex flex-column flex-grow-1\">\r\n            <div class=\"d-flex flex-row title-box\">\r\n                <div class=\"list-title flex-grow-1 text-start\">Thực hiện chấm thi</div>\r\n                <div class=\"right-toolbar d-flex flex-row\">\r\n                </div>\r\n            </div>\r\n            <div class=\"flex-grow-1 flex-row row gx-0 gap-3\">\r\n                <div class=\"col-3 left-grade\" :class=\"{'collage': isCollapsed}\">\r\n                    <div class=\"title text-start d-flex justify-content-between\">\r\n                        <div class=\"text\">Thông tin kì thi</div>\r\n                        <div class=\"btn-collapse icon-toggle icon24-only\" @click=\"isCollapsed = true\"></div>\r\n                    </div>\r\n                    <div class=\"w-100 h-100\">\r\n                        <div class=\"outer\" @click=\"isCollapsed = false\">\r\n                            <div class=\"left-grade-content_collage inner rotate\">\r\n                                <div style=\"margin: auto;\">Thông tin chấm thi</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"left-grade-content\">\r\n                            <div class=\"group-form_box\">\r\n                                <div class=\"d-flex\">\r\n                                    <div class=\"label\">Kì thi</div>\r\n                                    <span class=\"required\">*</span>\r\n                                </div>\r\n                                <div class=\"\">\r\n                                    <Dropdown v-model=\"selectedManager\" :options=\"examManager\"\r\n                                              optionLabel=\"exam_name\"\r\n                                              placeholder=\"Kì thi\"\r\n                                              @change=\"onChangeExamManager\"\r\n                                              class=\"ms-category text-start\"/>\r\n                                </div>\r\n                                <div class=\"ms-error-text\"></div>\r\n                            </div>\r\n                            <div class=\"group-form_box mt-3\">\r\n                                <div class=\"d-flex\">\r\n                                    <div class=\"label\">Ca thi</div>\r\n                                    <span class=\"required\">*</span>\r\n                                </div>\r\n                                <div class=\"\">\r\n                                    <Dropdown v-model=\"selectedExamShift\" :options=\"examShift\" optionLabel=\"exam_shift_name\"\r\n                                              placeholder=\"Ca thi\"\r\n                                              @change=\"onChangeExamShift\"\r\n                                              class=\"ms-category text-start\"/>\r\n                                </div>\r\n                                <div class=\"ms-error-text\"></div>\r\n                            </div>\r\n                            <div class=\"group-form_box mt-3\">\r\n                                <div class=\"d-flex\">\r\n                                    <div class=\"label\">Phòng thi thi</div>\r\n                                    <span class=\"required\">*</span>\r\n                                </div>\r\n                                <div class=\"\">\r\n                                    <Dropdown v-model=\"selectedDepartment\" :options=\"department\" optionLabel=\"department_name\"\r\n                                              placeholder=\"Phòng thi\"\r\n                                              class=\"ms-category text-start\"/>\r\n                                </div>\r\n                                <div class=\"ms-error-text\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"list-content flex1 flex-column right-grade\">\r\n                    <div class=\"content-body flex1 flex-column\">\r\n                        <div class=\"mb-20\">\r\n                            <Panel header=\"1. Thông tin file\" :collapsed=\"examResult.length > 0\" toggleable\r\n                                   class=\"customPanel flex1\" :toggle-button-props=\"{ 'aria-label': 'customPanel' }\">\r\n                                <Stepper linear :activeStep=\"activeStep\">\r\n                                    <StepperPanel header=\"File danh sách thi\">\r\n                                        <template #content=\"{ nextCallback }\">\r\n                                            <input type=\"file\" hidden ref=\"file\" accept=\".xlsx\" id=\"assetsFieldHandle\"\r\n                                                   @change=\"onChangeFile($event, valuesFile[0])\">\r\n                                            <div class=\"flex-grow-1 d-flex\" @dragover=\"dragover\" @dragleave=\"dragleave\"\r\n                                                 @drop=\"drop($event, valuesFile[0])\">\r\n                                                <label for=\"assetsFieldHandle\" class=\"flex-grow-1 upload-wrapper\">\r\n                                                    <div class=\"d-flex flex-grow-1\">\r\n                                                        <div\r\n                                                            class=\"upload-container flex-grow-1 d-flex justify-content-center align-items-center\"\r\n                                                            v-if=\"!fileSelected\">\r\n                                                            <div class=\"no-file d-flex file-xlsx\">\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div class=\"import-attachment-container flex1\"\r\n                                                             v-if=\"fileSelected\">\r\n                                                            <div class=\"file-info d-flex\">\r\n                                                                <div class=\"d-flex text-truncate\">\r\n                                                                    <div class=\"file-icon text-left \"\r\n                                                                         style=\"width: 20px;\"></div>\r\n                                                                    <div class=\"file-name text-left\">\r\n                                                                        {{ fileSelected.name }}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div class=\"file-size text-left\">\r\n                                                                    {{ formatSize(fileSelected.size) }}\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    class=\"file-accepted text-left d-flex justify-content-between\">\r\n                                                                    <div class=\"icon-success\" v-if=\"FileSuccess\"></div>\r\n                                                                    <div v-if=\"FileSuccess\">Hợp lệ</div>\r\n                                                                    <div class=\"icon-unsuccess\"\r\n                                                                         v-if=\"!FileSuccess\"></div>\r\n                                                                    <div v-if=\"!FileSuccess\">Không hợp lệ</div>\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    class=\"change-file blue-text pointer text-left text-link mw-maxcontent justify-content-end\">\r\n                                                                    Đổi\r\n                                                                    tệp khác\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class=\"file-caution\" v-if=\"FileSuccess\">\r\n                                                                <ProgressBar :value=\"progress\" :showValue=\"false\"\r\n                                                                             v-if=\"isLoading\"></ProgressBar>\r\n                                                                <div class=\"file-caution-img\">\r\n                                                                </div>\r\n                                                                <div class=\"file-caution-center mt-20 text-center\">\r\n                                                                    Lưu ý\r\n                                                                    <span data-v-6d95cd2a=\"\" data-v-30ce9692=\"\"\r\n                                                                          style=\"color: red;\">*</span>\r\n                                                                    : Bạn vui lòng chọn sheet muốn nhập khẩu và\r\n                                                                    <br>\r\n                                                                    dòng tiêu đề của sheet đó.\r\n                                                                </div>\r\n\r\n                                                            </div>\r\n                                                            <div class=\"file-error\" v-else>\r\n                                                                <div class=\"file-error-title red-text\"> Lý do không hợp\r\n                                                                    lệ:\r\n                                                                </div>\r\n                                                                <div class=\"file-error-title red-text\">- Dung lượng quá\r\n                                                                    lớn\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div class=\"flex pt-4 justify-content-end\" v-if=\"!isNextStepper\">\r\n                                                <Button label=\"Tiếp tục\" icon=\"pi pi-arrow-right\" iconPos=\"right\"\r\n                                                        :disabled=\"!fileSelected\"\r\n                                                        @click=\"fileSelectedOnUpload = valuesFile[0], uploadEvent()\"/>\r\n                                            </div>\r\n                                            <div class=\"flex pt-4 justify-content-end\" v-else>\r\n                                                <Button label=\"Next\" icon=\"pi pi-arrow-right\" iconPos=\"right\"\r\n                                                        @click=\"fileSelectedOnUpload = valuesFile[0], nextCallback()\"/>\r\n                                            </div>\r\n                                        </template>\r\n                                    </StepperPanel>\r\n                                    <StepperPanel header=\"File bài thi\">\r\n                                        <template #content=\"{ prevCallback, nextCallback }\">\r\n                                            <div class=\"flex flex-column h-12rem\">\r\n                                                <input type=\"file\" hidden ref=\"file\" accept=\".zip\"\r\n                                                       id=\"assetsFieldHandle\"\r\n                                                       @change=\"onChangeFile($event, valuesFile[1])\">\r\n                                                <div class=\"flex1 d-flex\" @dragover=\"dragover\" @dragleave=\"dragleave\"\r\n                                                     @drop=\"drop($event, valuesFile[1])\">\r\n                                                    <label for=\"assetsFieldHandle\" class=\"flex1 upload-wrapper\">\r\n                                                        <div class=\"d-flex flex-grow-1\">\r\n                                                            <div\r\n                                                                class=\"upload-container flex-grow-1 d-flex justify-content-center align-items-center\"\r\n                                                                v-if=\"!fileSelected\">\r\n                                                                <div class=\"no-file d-flex file-zip\">\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class=\"import-attachment-container flex1\"\r\n                                                                 v-if=\"fileSelected\">\r\n                                                                <div class=\"file-info d-flex\">\r\n                                                                    <div class=\"d-flex text-truncate\">\r\n                                                                        <div class=\"file-icon text-left \"\r\n                                                                             style=\"width: 20px;\"></div>\r\n                                                                        <div class=\"file-name text-left\">\r\n                                                                            {{ fileSelected.name }}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div class=\"file-size text-left\">\r\n                                                                        {{ formatSize(fileSelected.size) }}\r\n                                                                    </div>\r\n                                                                    <div class=\"file-accepted text-left d-flex\">\r\n                                                                        <div class=\"icon-success\"\r\n                                                                             v-if=\"FileSuccess\"></div>\r\n                                                                        <div v-if=\"FileSuccess\">Hợp lệ</div>\r\n                                                                        <div class=\"icon-unsuccess\"\r\n                                                                             v-if=\"!FileSuccess\"></div>\r\n                                                                        <div v-if=\"!FileSuccess\">Không hợp lệ</div>\r\n                                                                    </div>\r\n                                                                    <div\r\n                                                                        class=\"change-file blue-text pointer text-left text-link mw-maxcontent\">\r\n                                                                        Đổi\r\n                                                                        tệp khác\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div class=\"file-caution\" v-if=\"FileSuccess\">\r\n                                                                    <ProgressBar :value=\"progress\" :showValue=\"false\"\r\n                                                                                 v-if=\"isLoading\"></ProgressBar>\r\n                                                                    <div class=\"file-caution-img\">\r\n                                                                    </div>\r\n                                                                    <div class=\"file-caution-center mt-20\">\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div class=\"file-error\" v-else>\r\n                                                                    <div class=\"file-error-title red-text\"> Lý do không\r\n                                                                        hợp\r\n                                                                        lệ:\r\n                                                                    </div>\r\n                                                                    <div class=\"file-error-title red-text\">- Dung lượng\r\n                                                                        quá\r\n                                                                        lớn\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"flex pt-4 justify-content-between\">\r\n                                                <Button label=\"Back\" severity=\"secondary\" icon=\"pi pi-arrow-left\"\r\n                                                        @click=\"prevCallback, this.activeStep= 0\"/>\r\n                                                <Button label=\"Tiếp tục\" icon=\"pi pi-arrow-right\" iconPos=\"right\"\r\n                                                        :disabled=\"!fileSelected\"\r\n                                                        @click=\"fileSelectedOnUpload = valuesFile[1], uploadEvent()\"/>\r\n                                            </div>\r\n                                        </template>\r\n                                    </StepperPanel>\r\n                                    <StepperPanel header=\"Kiểm tra thông tin\">\r\n                                        <template #content=\"{ prevCallback, nextCallback }\">\r\n                                            <div class=\"flex flex-column h-12rem\">\r\n                                                <DataTable class=\"flex1 mt-10 flex-column\" :class=\"{ 'loading': isLoading }\"\r\n                                                           :loading=\"isLoading\" table-class=\"grid-group\"\r\n                                                           :value=\"isLoading ? Array.from({ length: 8 }, () => ({ ...this.department })) : fileInfoResponse.data\"\r\n                                                           tableStyle=\"min-width: 100%\" rowHover>\r\n\r\n                                                    <Column header=\"Số báo danh\" field=\"studentName\" style=\"width: 40px;\"\r\n                                                            class=\"text-center\">\r\n                                                        <template #body=\"{ data, field, slotProps }\">\r\n                                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                                            <div v-else>\r\n                                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                                            </div>\r\n                                                        </template>\r\n                                                    </Column>\r\n                                                    <Column header=\"Mã sinh viên\" field=\"studentID\" style=\"width: 100px\"\r\n                                                            class=\"text-center\">\r\n                                                        <template #body=\"{ data, field, slotProps }\">\r\n                                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                                            <div v-else>\r\n                                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                                            </div>\r\n                                                        </template>\r\n                                                    </Column>\r\n                                                    <Column header=\"Họ và tên\" field=\"studentName\" style=\"width: 80px;\"\r\n                                                            class=\"text-left\">\r\n                                                        <template #body=\"{ data, field, slotProps }\">\r\n                                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                                            <div v-else>\r\n                                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                                            </div>\r\n                                                        </template>\r\n                                                    </Column>\r\n                                                    <Column header=\"Phòng thi\" field=\"studentName\" style=\"width: 100px;\"\r\n                                                            class=\"text-center\">\r\n                                                        <template #body=\"{ data, field, slotProps }\">\r\n                                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                                            <div v-else>\r\n                                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                                            </div>\r\n                                                        </template>\r\n                                                    </Column>\r\n                                                    <Column header=\"Đề thi\" field=\"studentName\" style=\"width: 50px;\"\r\n                                                            class=\"text-center\">\r\n                                                        <template #body=\"{ data, field, slotProps }\">\r\n                                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                                            <div v-else>\r\n                                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                                            </div>\r\n                                                        </template>\r\n                                                    </Column>\r\n                                                </DataTable>\r\n                                            </div>\r\n                                            <div class=\"flex pt-4 justify-content-between\">\r\n                                                <Button label=\"Back\" severity=\"secondary\" icon=\"pi pi-arrow-left\"\r\n                                                        @click=\"prevCallback\"/>\r\n                                                <Button label=\"Next\" icon=\"pi pi-arrow-right\" iconPos=\"right\"\r\n                                                        @click=\"nextCallback\"/>\r\n                                            </div>\r\n                                        </template>\r\n                                    </StepperPanel>\r\n                                    <StepperPanel header=\"Chấm thi\">\r\n                                        <template #content=\"{ prevCallback }\">\r\n                                            <div class=\"flex flex-column h-12rem\">\r\n                                                <div\r\n                                                    class=\"border-2 border-dashed surface-border border-round surface-ground flex-auto flex justify-content-center align-items-center font-medium\">\r\n                                                    Content III\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"flex pt-4 justify-content-start\">\r\n                                                <Button label=\"Back\" severity=\"secondary\" icon=\"pi pi-arrow-left\"\r\n                                                        @click=\"prevCallback\"/>\r\n                                                <Button label=\"Chấm thi\" icon=\"pi pi-arrow-right\"\r\n                                                        @click=\"calculate\"/>\r\n                                            </div>\r\n                                        </template>\r\n                                    </StepperPanel>\r\n                                </Stepper>\r\n                            </Panel>\r\n                        </div>\r\n                        <div class=\"mb-20 flex-column flex1\">\r\n                            <Panel header=\"2. Kết quả chấm\" toggleable :collapsed=\"examResult.length == 0\"\r\n                                   class=\"customPanel flex1\" :toggle-button-props=\"{ 'aria-label': 'customPanel' }\">\r\n                                <div class=\"ms-panel-header\">\r\n                                    <div class=\"flex1\"></div>\r\n                                    <Button class=\"ms-button btn primary has-tooltip\" aria-label=\"Youtube\"\r\n                                            v-if=\"examResult.length != 0\" @click=\"exportExamResult\">\r\n                                        <!--                                        <img alt=\"logo\"-->\r\n                                        <!--                                             src=\"../../../../public/assets/icon/ic_export_excel.cd7bdef7.svg\"-->\r\n                                        <!--                                             class=\"export-excel\" />-->\r\n                                        <span class=\"px-3 text\">Xuất kết quả</span>\r\n                                    </Button>\r\n                                </div>\r\n                                <DataTable class=\"flex1 mt-10 flex-column\" :class=\"{ 'loading': isLoading }\"\r\n                                           :loading=\"isLoading\" table-class=\"grid-group\"\r\n                                           :value=\"isLoading ? Array.from({ length: 8 }, () => ({ ...this.department })) : examResult\"\r\n                                           tableStyle=\"min-width: 100%\" rowHover>\r\n\r\n                                    <Column header=\"STT\" style=\"width: 40px;\" class=\"text-center\">\r\n                                        <template #body=\"slotProps\">\r\n                                            <div v-if=\"!isLoading\"> {{ slotProps.index + 1 }}</div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                    <Column header=\"Số báo danh\" field=\"studentId\" style=\"width: 40px;\"\r\n                                            class=\"text-center\">\r\n                                        <template #body=\"{ data, field, slotProps }\">\r\n                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                    <Column header=\"Họ và tên\" field=\"studentName\" style=\"width: 80px;\"\r\n                                            class=\"text-left\">\r\n                                        <template #body=\"{ data, field, slotProps }\">\r\n                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                    <Column header=\"Phòng thi\" field=\"departmentName\" style=\"width: 100px;\"\r\n                                            class=\"text-center\">\r\n                                        <template #body=\"{ data, field, slotProps }\">\r\n                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                    <Column header=\"Tổng điểm\" field=\"totalPoint\" style=\"width: 50px;\"\r\n                                            class=\"text-center\">\r\n                                        <template #body=\"{ data, field, slotProps }\">\r\n                                            <div v-if=\"!isLoading\"> {{ data[field] }}</div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                    <Column alignFrozen=\"right\" style=\"width: 80px;\" frozen header=\"Thao tác\">\r\n                                        <template #body=\"slotProps\">\r\n                                            <div class=\"row-actions\" v-if=\"!isLoading\">\r\n                                                <div class=\"text-link\"\r\n                                                     @click=\"onRowSelect(slotProps.data), selectedResult = slotProps.data, loadExamResultDetail()\">\r\n                                                    <div>Xem chi tiết</div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div v-else>\r\n                                                <Skeleton height=\"18px\" class=\"mb-2\"></Skeleton>\r\n                                            </div>\r\n                                        </template>\r\n                                    </Column>\r\n                                </DataTable>\r\n                            </Panel>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport InputText from 'primevue/inputtext';\r\nimport Button from 'primevue/button';\r\nimport Skeleton from 'primevue/skeleton';\r\nimport DataTable from 'primevue/datatable';\r\nimport Column from 'primevue/column';\r\nimport Dropdown from 'primevue/dropdown';\r\nimport Panel from 'primevue/panel';\r\nimport FileUpload from 'primevue/fileupload';\r\nimport Stepper from 'primevue/stepper';\r\nimport StepperPanel from 'primevue/stepperpanel';\r\nimport Resumable from 'resumablejs';\r\nimport ProgressBar from 'primevue/progressbar';\r\nimport {FILE_TYPE} from \"@/common/enums\";\r\n\r\nimport {get, calculate, getDetailExamManager} from '/api/grade-master';\r\nimport Auth from \"../../../../api/utils/auth\";\r\n\r\nexport default {\r\n    components: {\r\n        Button,\r\n        InputText,\r\n        Panel,\r\n        Skeleton,\r\n        DataTable,\r\n        Dropdown,\r\n        ProgressBar,\r\n        Column,\r\n        FileUpload,\r\n        Stepper,\r\n        StepperPanel\r\n    },\r\n    data() {\r\n        return {\r\n            valuesFile: [\r\n                {\r\n                    STT: 1,\r\n                    Type: 'File danh sách thi',\r\n                    Resource: 'Chưa có file danh sách thi. Tải lên để thực hiện chấm',\r\n                    Empty: true,\r\n                    FileSelected: null,\r\n                    ResourcePath: null,\r\n                    FileName: null,\r\n                    FileType: FILE_TYPE.LIST,\r\n                    FileAccept: '.xlsx',\r\n                    MaxFileSize: 30 * 1024 * 1024\r\n                },\r\n                {\r\n                    STT: 2,\r\n                    Type: 'File bài thi',\r\n                    Resource: 'Chưa có file bài thi. Tải lên để thực hiện chấm',\r\n                    Empty: true,\r\n                    FileSelected: null,\r\n                    ResourcePath: null,\r\n                    FileName: null,\r\n                    FileType: FILE_TYPE.EXAM,\r\n                    FileAccept: '.zip',\r\n                    MaxFileSize: 800 * 1024 * 1024\r\n                },\r\n            ],\r\n            isNextStepper: false,\r\n            columnsFile: [\r\n                {field: 'STT', header: 'STT'},\r\n                {field: 'Type', header: 'Loại file'},\r\n                {field: 'Resource', header: 'Tên File'},\r\n            ],\r\n            isCollapsed: false,\r\n            isLoading: false,\r\n            data: [],\r\n            selectedCity: null,\r\n            examResult: [],\r\n            cities: [\r\n                {name: 'New York', code: 'NY'},\r\n                {name: 'Rome', code: 'RM'},\r\n                {name: 'London', code: 'LDN'},\r\n                {name: 'Istanbul', code: 'IST'},\r\n                {name: 'Paris', code: 'PRS'}\r\n            ],\r\n            headerUploadFile: 'Tải file',\r\n            fileSelectedOnUpload: null,\r\n            gradingType: false, //loại chấm điểm\r\n            isShowGradingType: false,\r\n            gradingTypeVisible: false,\r\n            deductedPoint: 50, //điểm bị trừ\r\n            invalidDeductedPoint: null,\r\n\r\n            fileSelected: null,\r\n            isShowPopupUploadFile: false,\r\n            File: null,\r\n            FileSuccess: false,\r\n            isUpload: false,\r\n            totalSize: 0,\r\n            dialogVisible: false,\r\n            totalSizePercent: 0,\r\n            activeStep: 0,\r\n            fileInfoResponse: [],\r\n\r\n            resultDetail: [],\r\n            visibleExamResultDetail: false,\r\n            selectedResult: null,\r\n            objCheckSelectedResult: null,\r\n\r\n\r\n            isLoadingComponent: false,\r\n\r\n            modeFile: null,\r\n            fileXlsxSelected: null,\r\n            fileZipSelected: null,\r\n\r\n            resumable: null,\r\n            progress: 0,\r\n\r\n            examManager: [],\r\n            selectedManager: null,\r\n            examShift: [],\r\n            selectedExamShift: null,\r\n            department: [],\r\n            selectedDepartment: null,\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        onRowSelect(data) {\r\n            // console.log(data);\r\n        },\r\n\r\n        async btnEvaluator(flag) {\r\n            //thực hiện chấm\r\n            if (flag) {\r\n                this.gradingTypeVisible = false;\r\n                this.deductedPoint = 50;\r\n                this.isLoadingComponent = true;\r\n                this.isShowGradingType = false;\r\n                var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\r\n                data = JSON.parse(data.ExamShift).filter(_item => _item.ExamShiftId == this.selectedExamShift && _item.DepartmentId == this.selectedDepartment && _item.ExamShiftId == this.selectedExamShift);\r\n                await excuteEvaluator({\r\n                    data: data,\r\n                    gradingType: this.gradingType,\r\n                    deductedPoint: this.deductedPoint\r\n                }).then(res => {\r\n                    this.loadExamResult();\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                }).finally(() => {\r\n                    setTimeout(() => {\r\n                        this.isLoadingComponent = false;\r\n                    }, 300);\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sự kiện chọn kì thi\r\n         */\r\n        onChangeExamManager() {\r\n            this.isLoading = true;\r\n            this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\r\n            this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\r\n            //dữ liệu kì thi\r\n\r\n            this.selectedFirst();\r\n            // this.loadExamResult();\r\n        },\r\n\r\n        /**\r\n         * Sự kiện chọn ca thi\r\n         */\r\n        onChangeExamShift() {\r\n            this.department = this.selectedExamShift.departments;\r\n            // this.loadExamResult();\r\n        },\r\n\r\n        /**\r\n         * Sự kiện chọn phòng thi\r\n         */\r\n        onChangeDepartment() {\r\n            this.examResult = []; //kết quả thi\r\n            this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\r\n            this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\r\n\r\n            var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\r\n            data = JSON.parse(data.ExamShift);\r\n            var result = data.find(_item => this.selectedDepartment == _item.DepartmentId && this.selectedExamShift == _item.ExamShiftId);\r\n            try {\r\n                if (result.ResourcePathFileList != null) {\r\n                    this.valuesFile[0].FileName = String(result.ResourcePathFileList).substring(3);\r\n                    this.valuesFile[0].Empty = false;\r\n                }\r\n\r\n                if (result.ResourcePathFileAssignment != null) {\r\n                    this.valuesFile[1].FileName = String(result.ResourcePathFileAssignment).substring(3);\r\n                    this.valuesFile[1].Empty = false;\r\n                }\r\n            } catch (error) {\r\n                console.log(resulgetDetailExamManagert, this.selectedDepartment, this.department, this.selectedExamShift, data);\r\n            }\r\n            this.loadExamResult();\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {*} arr\r\n         */\r\n        selectedFirst() {\r\n            try {\r\n                this.examShift = this.selectedManager.exam_shifts;\r\n                this.selectedExamShift = null;\r\n                this.selectedDepartment = null;\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Cập nhật thông tin file\r\n         */\r\n        updateFileInformation() {\r\n            try {\r\n                this.valuesFile[1].FileName = this.valuesFile[0].FileName = null;\r\n                this.valuesFile[1].Empty = this.valuesFile[0].Empty = true;\r\n                //dữ liệu kì thi\r\n                var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\r\n                data = JSON.parse(data.ExamShift);\r\n                //dữ liệu ca thi\r\n                var result = data.filter(_item => _item.ExamShiftId == this.selectedExamShift);\r\n                //Mảng dữ liệu phòng thi\r\n                this.department = this.getUniqueItems(result, 'DepartmentId');\r\n\r\n                var index = this.department.findIndex(_item => _item.DepartmentId == this.selectedDepartment);\r\n                if (this.department[index] != null && this.department[index].ResourcePathFileList != null) {\r\n                    this.valuesFile[0].FileName = this.department[index].ResourcePathFileList.substring(3);\r\n                    this.valuesFile[0].Empty = false;\r\n                }\r\n\r\n                if (this.department[index] != null && this.department[index].ResourcePathFileAssignment != null) {\r\n                    this.valuesFile[1].FileName = this.department[index].ResourcePathFileAssignment.substring(3);\r\n                    this.valuesFile[1].Empty = false;\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sự kiện kéo thả file\r\n         * @param {*} event\r\n         * @param data\r\n         */\r\n        drop(event, data) {\r\n            event.preventDefault();\r\n            this.$refs.file.files = event.dataTransfer.files;\r\n            this.onChangeFile(event, data); // Trigger the onChange event manually\r\n            // Clean up\r\n            event.currentTarget.classList.add('bg-gray-100');\r\n            event.currentTarget.classList.remove('bg-green-300');\r\n        },\r\n\r\n        /**\r\n         * Sự kiện kéo file vào\r\n         * @param {*} event\r\n         */\r\n        dragover(event) {\r\n            event.preventDefault();\r\n            // Add some visual fluff to show the user can drop its files\r\n            if (!event.currentTarget.classList.contains('bg-green-300')) {\r\n                event.currentTarget.classList.remove('bg-gray-100');\r\n                event.currentTarget.classList.add('bg-green-300');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sự kiện kéo file ra\r\n         * @param {*} event\r\n         */\r\n        dragleave(event) {\r\n            // Clean up\r\n            event.currentTarget.classList.add('bg-gray-100');\r\n            event.currentTarget.classList.remove('bg-green-300');\r\n        },\r\n\r\n        /**\r\n         * Lấy danh sách đã phân chia đề thi\r\n         */\r\n        getListExam() {\r\n            if (this.selectedDepartment == null) {\r\n                this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\r\n                return;\r\n            }\r\n\r\n            if (this.selectedManager == null) {\r\n                this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\r\n                return;\r\n            }\r\n\r\n            if (this.selectedExamShift == null) {\r\n                this.showToast(\"Chưa chọn thông tin kì thi\", 'error');\r\n                return;\r\n            }\r\n\r\n            if (this.valuesFile[0].FileName == null) {\r\n                this.showToast(\"Chưa tải lên file danh sách thi\", 'error');\r\n                return;\r\n            }\r\n\r\n            this.isLoadingComponent = true;\r\n            //dữ liệu kì thi\r\n            var data = this.examManager.find(_item => this.selectedManager == _item.ExamId);\r\n            data = JSON.parse(data.ExamShift);\r\n            //dữ liệu ca thi\r\n            var result = data.filter(_item => _item.ExamShiftId == this.selectedExamShift);\r\n            //Mảng dữ liệu phòng thi\r\n            this.department = this.getUniqueItems(result, 'DepartmentId');\r\n\r\n            var index = this.department.findIndex(_item => _item.DepartmentId == this.selectedDepartment);\r\n            data = data.filter(_item => _item.ExamShiftId == this.selectedExamShift && _item.DepartmentId == this.selectedDepartment && _item.ExamShiftId == this.selectedExamShift);\r\n            exportExamList({fileInfo: this.department[index], exam: data}).then(res => {\r\n                var filename = this.department.find(_item => _item.DepartmentId == this.selectedDepartment).DepartmentName;\r\n                const url = window.URL.createObjectURL(new Blob([res]));\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n                link.setAttribute('download', `Danh sách phân chia đề thi ${filename}.xlsx`);\r\n                document.body.appendChild(link);\r\n                link.click();\r\n            }).catch(error => {\r\n\r\n            }).finally(() => {\r\n                setTimeout(() => {\r\n                    this.isLoadingComponent = false;\r\n                }, 750);\r\n            });\r\n\r\n            console.log(this.department[index]);\r\n\r\n        },\r\n\r\n        /**\r\n         * Thông tin kì thi\r\n         */\r\n        async loadExamManager() {\r\n            await getDetailExamManager().then(res => {\r\n                this.examManager = res.data;\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        },\r\n\r\n\r\n        /**\r\n         * Xuất kết quả\r\n         */\r\n        exportExamResult() {\r\n            if (this.selectedDepartment != null && this.selectedExamShift != null && this.selectedManager != null && this.examResult.length > 0) {\r\n                this.isLoadingComponent = true;\r\n                exportExamResult({data: this.examResult}).then(res => {\r\n                    var filename = this.department.find(_item => _item.DepartmentId == this.selectedDepartment).DepartmentName;\r\n                    const url = window.URL.createObjectURL(new Blob([res]));\r\n                    const link = document.createElement('a');\r\n                    link.href = url;\r\n                    link.setAttribute('download', `Kết quả chấm ${filename}.xlsx`);\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                }).catch(error => {\r\n                    this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\", 'error');\r\n                    console.log(error);\r\n                }).finally(() => {\r\n                    setTimeout(() => {\r\n                        this.isLoadingComponent = false;\r\n                    }, 750);\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sự kiện thay đổi file\r\n         */\r\n        onChangeFile(event, data) {\r\n            event.preventDefault();\r\n            // if (this.selectedDepartment == null || this.selectedExamShift == null || this.selectedManager == null) {\r\n            //     this.showToast(\"Chọn thông tin kì thi để thực hiện tải\", 'error');\r\n            //     return;\r\n            // }\r\n            if (this.$refs.file.files[0]) {\r\n                // if (this.$r  efs.file.files[0].size > this.fileSelectedOnUpload.MaxFileSize) {\r\n                //     return;\r\n                // }\r\n\r\n                // if (this.$refs.file.files[0].size > this.fileSelectedOnUpload.MaxFileSize) {\r\n                //     console.log(1);\r\n                //     return;\r\n                // }\r\n                //xlsx\r\n                if (data.FileType === FILE_TYPE.LIST) {\r\n                    var validExts = new Array(\".xlsx\", \".xls\");\r\n                    var fileExt = this.$refs.file.files[0].name;\r\n                    fileExt = fileExt.substring(fileExt.lastIndexOf('.'));\r\n                    if (validExts.indexOf(fileExt) < 0) {\r\n                        this.contentDialog = ' File danh sách thi chỉ hỗ trợ định dạng *.xlsx';\r\n                        this.dialogVisible = true;\r\n                        return;\r\n                    }\r\n                }\r\n                //zip\r\n                else {\r\n                    var validExts = new Array(\".zip\");\r\n                    var fileExt = this.$refs.file.files[0].name;\r\n                    fileExt = fileExt.substring(fileExt.lastIndexOf('.'));\r\n                    if (validExts.indexOf(fileExt) < 0) {\r\n                        this.contentDialog = ' File bài thi chỉ hỗ trợ định dạng *.zip';\r\n                        this.dialogVisible = true;\r\n                        return;\r\n                    }\r\n                }\r\n                this.FileSuccess = true;\r\n                this.fileSelected = this.$refs.file.files[0];\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Click nút upload\r\n         */\r\n        uploadEvent() {\r\n            try {\r\n                this.progress = 0;\r\n                this.isLoading = true;\r\n                //tên kì thi\r\n                // this.resumable.opts.query.ExamName = this.examManager.find(_item => _item.ExamId == this.selectedManager).ExamName;\r\n                // cập nhật param\r\n                this.resumable.opts.query.departmentId = 1;\r\n                this.resumable.opts.query.examId = 2;\r\n                this.resumable.opts.query.examShiftId = 3;\r\n                this.resumable.opts.query.fileType = this.fileSelectedOnUpload.FileType;\r\n                this.resumable.addFile(this.fileSelected);\r\n            } catch (error) {\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * click button chấm thi\r\n         */\r\n        calculate() {\r\n            this.examResult = [];\r\n            calculate(this.fileInfoResponse).then(res => {\r\n                this.examResult = res.data;\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Lấy kết quả chấm\r\n         */\r\n        async loadExamResult() {\r\n            this.isLoading = true;\r\n            this.examResult = [];\r\n            if (this.selectedDepartment == null || this.selectedExamShift == null || this.selectedManager == null) {\r\n                return;\r\n            }\r\n            await getExamResult({\r\n                ExamId: this.selectedManager,\r\n                DepartmentId: this.selectedDepartment,\r\n                ExamShiftId: this.selectedExamShift\r\n            }).then(res => {\r\n                this.examResult = res;\r\n            }).catch(error => {\r\n                this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\");\r\n                console.log(error);\r\n            }).finally(() => {\r\n                setTimeout(() => {\r\n                    this.isLoading = false;\r\n                }, 750);\r\n            });\r\n            var department = this.department.find(_department => _department.DepartmentId == this.selectedDepartment);\r\n\r\n            if (department != null && department.ResourcePathFileList != null) {\r\n                this.valuesFile[0].FileName = department.ResourcePathFileList.substring(3);\r\n                this.valuesFile[0].Empty = false;\r\n            }\r\n\r\n            if (department != null && department.ResourcePathFileAssignment != null) {\r\n                this.valuesFile[1].FileName = department.ResourcePathFileAssignment.substring(3);\r\n                this.valuesFile[1].Empty = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Khởi tạo Resumable upload file\r\n         */\r\n        createResumable() {\r\n            this.resumable = new Resumable({\r\n                target: 'http://localhost:9000/api/word/upload-file',\r\n                method: 'POST',\r\n                query: {},\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Disposition': 'form-data; name=\"title\"',\r\n                    'Authorization': 'Bearer ' + Auth.getToken()\r\n                },\r\n                testChunks: false,\r\n                throttleProgressCallbacks: 1,\r\n                simultaneousUploads: 4,\r\n            });\r\n            this.resumable.on('fileAdded', this.onFileAdded);\r\n            this.resumable.on('fileProgress', this.onFileProgress);\r\n            this.resumable.on('fileSuccess', this.onFileSuccess);\r\n            this.resumable.on('fileError', this.onFileError);\r\n        },\r\n\r\n        /**\r\n         * Thêm file\r\n         * @param {*} file\r\n         */\r\n        onFileAdded(file) {\r\n            this.progress = 0;\r\n            this.resumable.upload();\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {*} file\r\n         */\r\n        onFileProgress(file) {\r\n            this.progress = Math.floor(file.progress() * 100);\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {*} file\r\n         * @param {*} response\r\n         */\r\n        async onFileSuccess(file, response) {\r\n            this.progress = 100;\r\n            this.isLoading = false;\r\n            try {\r\n                console.log(JSON.parse(response))\r\n                this.fileInfoResponse = JSON.parse(response).data;\r\n            }catch (error) {\r\n                console.log(error)\r\n            }\r\n            console.log(this.fileInfoResponse)\r\n            this.activeStep++;\r\n            this.showToast('Tải file thành công');\r\n            //cập nhật lại thông tin file trên view\r\n            this.resumable.removeFile(file);\r\n            this.fileSelected = null\r\n\r\n        },\r\n\r\n        onFileError(file, message) {\r\n            console.log('File error:', file, message);\r\n        },\r\n\r\n        /**\r\n         * Lấy thông tin chi tiết điểm của sinh viên\r\n         */\r\n        async loadExamResultDetail() {\r\n            if (JSON.stringify(this.selectedResult) !== JSON.stringify(this.objCheckSelectedResult)) {\r\n                this.resultDetail = [];\r\n                await getExamResultDetail(this.selectedResult.StudentCode).then(res => {\r\n                    this.visibleExamResultDetail = true;\r\n                    this.resultDetail = res;\r\n                    console.log(res);\r\n                }).catch(error => {\r\n                    this.showToast(\"Đã xảy ra lỗi, vui lòng liên hệ với nhà phát triển\");\r\n                    console.log(error);\r\n                });\r\n            } else {\r\n                this.visibleExamResultDetail = true;\r\n            }\r\n            this.objCheckSelectedResult = {...this.selectedResult}\r\n        },\r\n\r\n        /**\r\n         * Sự kiện trước khi ẩn popup upload file\r\n         */\r\n        afterHideUploadFile() {\r\n            if (this.resumable.isUploading()) {\r\n                this.resumable.cancel();\r\n                this.showToast(\"File đang được tải lên, bạn có chắc chắn muốn thoát không?\");\r\n                return;\r\n            }\r\n            this.progress = 0;\r\n            this.fileSelectedOnUpload = null;\r\n            this.fileSelected = null;\r\n            this.isShowPopupUploadFile = false;\r\n            this.fileSelected = null\r\n        },\r\n\r\n        /**\r\n         * Format file size\r\n         * @param {*} bytes Dung lượng cần format\r\n         */\r\n        formatSize(bytes) {\r\n            if (bytes === 0) return \"0 B\";\r\n            const k = 1024;\r\n            const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n        },\r\n    },\r\n    async created() {\r\n        await this.loadExamManager();\r\n    },\r\n\r\n    mounted() {\r\n        this.createResumable();\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.left-grade {\r\n\r\n    background: #fff;\r\n    border: 1px solid rgb(221, 221, 221);\r\n    border-bottom-right-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n    height: 100%;\r\n\r\n    .title {\r\n        height: 50px;\r\n        width: 100%;\r\n        padding: 18px 12px 15px 15px;\r\n        align-items: center;\r\n        border-bottom: 1px solid rgb(221, 221, 221);\r\n\r\n        .text {\r\n            font-weight: 600;\r\n        }\r\n\r\n        .btn-collapse {\r\n            cursor: pointer;\r\n            transform: rotate(0deg);\r\n            transition-duration: 0.4s;\r\n        }\r\n    }\r\n\r\n    .outer {\r\n        position: relative;\r\n        display: none;\r\n        width: 100%;\r\n        cursor: pointer;\r\n        margin: auto;\r\n\r\n        .inner {\r\n            width: 100vh;\r\n            height: 45px;\r\n            font-size: 16px;\r\n            font-weight: 600;\r\n            position: absolute;\r\n            display: flex;\r\n            left: 50%;\r\n            top: 36vh;\r\n        }\r\n\r\n        .rotate {\r\n            transform: translateX(-50%) translateY(-50%) rotate(-90deg);\r\n        }\r\n    }\r\n\r\n    &.collage {\r\n        width: 56px;\r\n\r\n        .title {\r\n            .text {\r\n                display: none;\r\n            }\r\n\r\n            .btn-collapse {\r\n                transform: rotate(180deg);\r\n            }\r\n        }\r\n\r\n        .left-grade-content {\r\n            display: none;\r\n        }\r\n\r\n        .outer {\r\n            position: relative;\r\n            display: inline-block;\r\n            width: 100%;\r\n            cursor: pointer;\r\n            margin: auto;\r\n        }\r\n    }\r\n\r\n    .left-grade-content {\r\n        overflow: auto;\r\n        height: 100%;\r\n        padding: 16px;\r\n    }\r\n}\r\n\r\n.right-grade {\r\n    border: 1px solid rgb(221, 221, 221);\r\n    border-radius: 4px;\r\n    background: #fff;\r\n\r\n    .p-panel-header {\r\n        background: #fff !important;\r\n        border: none !important;\r\n    }\r\n\r\n    .p-panel.customPanel .p-panel-header .p-panel-title {\r\n        font-size: 16px;\r\n        font-weight: 700;\r\n    }\r\n\r\n    button.p-panel-toggler[aria-label='customPanel'] span {\r\n        width: max-content;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    button.p-panel-toggler[aria-label='customPanel'] span::before {\r\n        margin-right: 4px;\r\n        content: \"\";\r\n        height: 16px !important;\r\n        width: 16px !important;\r\n    }\r\n\r\n\r\n    button.p-panel-toggler[aria-label='customPanel'] span::after {\r\n        width: max-content;\r\n        color: #2979ff !important;\r\n        cursor: pointer;\r\n        border: none !important;\r\n        font-weight: 400 !important;\r\n        font-size: 14px;\r\n    }\r\n\r\n\r\n    .upload-container .info-file {\r\n        padding: 20px;\r\n    }\r\n\r\n    .info-file .icon-zip {\r\n        width: 40px;\r\n        height: 40px;\r\n        background: url('@public/assets/icons/zip.svg') no-repeat;\r\n        margin-right: 10px;\r\n        background-position: center;\r\n        background-size: 100%;\r\n    }\r\n\r\n    .left-box {\r\n        width: 202px;\r\n        margin-right: 18px;\r\n        height: 100%;\r\n    }\r\n\r\n    .box,\r\n    .card {\r\n        background-color: #fff;\r\n        border-radius: 4px;\r\n        box-shadow: 0 0 11px rgba(0, 0, 0, .08);\r\n    }\r\n\r\n    .list-tab-menu {\r\n        padding: 25px 8px 0;\r\n        overflow: auto;\r\n        height: 100%;\r\n        color: #707070;\r\n    }\r\n\r\n    .p-panel {\r\n        &.customPanel {\r\n            .p-panel-content {\r\n                border: unset;\r\n            }\r\n        }\r\n    }\r\n\r\n    .tab-item {\r\n        margin-bottom: 15px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .list-tab-menu .tab-item-parent.active {\r\n        font-weight: 600;\r\n        color: #ff6d00;\r\n    }\r\n\r\n    .list-tab-menu .tab-item-parent:hover {\r\n        border-radius: 4px;\r\n        background-color: #fbe9e7;\r\n        color: #ff6d00;\r\n    }\r\n\r\n    .grid-nodata-content {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        height: 100%;\r\n        width: 100%;\r\n        background-color: #fff;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    .grid-nodata-content .img-nodata {\r\n        background-image: url('@public/assets/icons/ic_empty_grid.681d1e47.svg');\r\n        height: 160px;\r\n        width: 260px;\r\n        background-position: 50%;\r\n    }\r\n\r\n    .description-nodata {\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #182d4b;\r\n        padding-bottom: 8px;\r\n    }\r\n\r\n    .grid-nodata-content .description-nodata {\r\n        color: #9e9fab;\r\n        padding-bottom: 8px;\r\n    }\r\n\r\n    .list-tab-menu .tab-item-parent {\r\n        height: 36px;\r\n        padding-left: 10px;\r\n        padding-bottom: 10px;\r\n        padding-top: 10px;\r\n    }\r\n\r\n    .content-body {\r\n        padding: 17px 20px 12px 16px;\r\n        overflow: auto;\r\n    }\r\n\r\n    .content-body .title-1 {\r\n        font-size: 16px;\r\n        font-weight: 700;\r\n        margin-bottom: 15px;\r\n        line-height: 26px;\r\n        align-items: center;\r\n    }\r\n\r\n    .content-body .title-2 {\r\n        font-size: 14px;\r\n        font-weight: 700;\r\n        line-height: 19px;\r\n    }\r\n\r\n    /* .content-footer {\r\n        background-color: #fbfbfe;\r\n        padding: 12px 24px;\r\n    } */\r\n    .p-button-label {\r\n        padding: 0 16px;\r\n    }\r\n\r\n    .tab-item-child {\r\n        padding: 10px 0 0px 20px;\r\n    }\r\n\r\n    .tab-item .tab-item-child:not(:first-child) {\r\n        padding-top: 0;\r\n    }\r\n\r\n    .box.left-box {\r\n        width: 13vw;\r\n    }\r\n\r\n    .p-button .export-excel {\r\n        display: inline-block;\r\n        margin: -7px 7px -7px 12px;\r\n    }\r\n\r\n    .export-excel {\r\n        width: 20px;\r\n        height: 20px;\r\n    }\r\n\r\n\r\n    .p-button .export-excel ~ .text {\r\n        padding-right: 16px;\r\n        padding-left: 0;\r\n    }\r\n\r\n    .customPanel.p-panel.p-panel-toggleable .p-panel-header {\r\n        padding: 0px 14px 14px 0 !important;\r\n    }\r\n\r\n    .upload-container .no-file.file-xlsx {\r\n        background: url('@public/assets/icons/add_attachment.c604b695.svg') no-repeat;\r\n        width: 334px;\r\n        height: 110px;\r\n        margin-top: 20px;\r\n        background-size: contain;\r\n        background-position: center;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .upload-wrapper {\r\n        border: 1px dashed #ddd;\r\n        border-radius: 4px;\r\n        display: flex;\r\n        height: 329px;\r\n        justify-content: center;\r\n    }\r\n\r\n    .import-attachment-container {\r\n        border-radius: 4px;\r\n        height: 329px;\r\n        cursor: pointer;\r\n\r\n        .file-info {\r\n            width: 100%;\r\n            height: 48px;\r\n            align-items: center;\r\n            padding: 0 16px;\r\n            border-bottom: 1px dashed #ddd;\r\n\r\n            .file-icon {\r\n                width: 16px;\r\n                height: 16px;\r\n                background: transparent url('@public/assets/icons/ic_file_gray.84c03213.svg') no-repeat -2px 0;\r\n                margin-right: 8px;\r\n            }\r\n\r\n            .file-name, .main-content .file-info .file-size {\r\n                text-overflow: ellipsis;\r\n                padding-right: 16px;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .file-size {\r\n                width: 95px;\r\n                text-overflow: ellipsis;\r\n                padding-right: 16px;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .file-accepted {\r\n                padding-right: 16px;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .icon-success {\r\n                width: 16px;\r\n                height: 16px;\r\n                background: transparent url('@public/assets/icons/ic_check_green.d1ac113b.svg') no-repeat;\r\n                margin-right: 8px;\r\n            }\r\n\r\n            .change-file {\r\n                width: 100px;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n\r\n                &.text-link {\r\n                    color: #2979ff !important;\r\n                    cursor: pointer;\r\n                    border: none !important;\r\n                    font-weight: 400 !important;\r\n                }\r\n            }\r\n        }\r\n\r\n        .file-caution {\r\n            width: 100%;\r\n            height: calc(100% - 48px);\r\n        }\r\n\r\n        .file-caution-img {\r\n            width: 100%;\r\n            height: calc(100% - 74px);\r\n            background: url('@public/assets/icons/img_import.7804e3d3.svg') no-repeat 50%;\r\n        }\r\n    }\r\n\r\n    .file-zip {\r\n        background: url('@public/assets/icons/upload-zip.svg') no-repeat;\r\n        width: 334px;\r\n        height: 110px;\r\n        margin-top: 20px;\r\n        background-size: contain;\r\n        background-position: center;\r\n        margin-bottom: 20px;\r\n    }\r\n}\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}